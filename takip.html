<!DOCTYPE html>
<html>
<head>
  <title>InfoVault Otomasyon Takibi</title>
  <meta charset="UTF-8">
</head>
<body>
  <h1>ðŸ“Š InfoVault CanlÄ± Takip Paneli</h1>
  <div id="log-container"></div>

  <script>
    async function fetchLogs() {
      const response = await fetch("https://script.google.com/macros/s/AKfycbyUTe-7Hg1sFUUY-AvCzN9m_7KjOcGb-eLCzcu0S05UmT1yvfjTsuY5RhuQTXx0Nr3LYQ/exec");
      const data = await response.json();

      let html = "<table border='1' cellpadding='5'><tr><th>ZAMAN</th><th>AÅžAMA</th><th>DURUM</th><th>AÃ‡IKLAMA</th></tr>";
      data.forEach(row => {
        html += `<tr>
          <td>${new Date(row.time).toLocaleString('tr-TR')}</td>
          <td>${row.stage}</td>
          <td>${row.status}</td>
          <td>${row.message}</td>
        </tr>`;
      });
      html += "</table>";

      document.getElementById("log-container").innerHTML = html;
    }

    // Ä°lk yÃ¼kleme + her 3 saniyede bir yenile
    fetchLogs();
    setInterval(fetchLogs, 3000);
  </script>
</body>
</html>
